# ENGG1340-G117
HKU-ENGG1340 (2019-2020)<br/>

ALL the cpp files have comments on each functions.

Procedure of using our program<br/>
Please follow the steps to use this program<br/>
1: Prepare an executable file:<br/>
In Linux, enter the directory containing all the cpp and the header file <br/>
Open terminal in that directory and then type in the following command<br/>
make CompileAll <br/>
Then, all cpp files will be compiled and then create an executable file exeOut
To use the program, type in the following command <br/>
./exeOut<br/>
<br/>

2: Prepare the test file<br/>
Unzip the Testfiles.zip<br/>
You will get multiple zip files <br/>
Each zip file is for different test cases <br/>
Unzip the test case file inside the directory containing all the cpp and the header file<br/>
Then, the program is ready to go<br/>

3.Execute the program<br/>
Open terminal and then change the directory containing exeOut, the target assignment and the score files<br/>
Enter the following command to start the program<br/>
./exeOut<br/>
After enetering the program, you must first input and the filename of the target assignment file (TargetAssignment.csv)<br/>
There may be some warnings displayed<br/>
It is intended to allow user to input the TargetAssignment.csv with some wrong data entry<br/>
If the program requests "Please input something to confirm." Just type in some arbinary letters and then press enter.<br/>
Then, you will have access to 5 functions. <br/>
You can enter 0,1,2,3,4 to choose the corresponding functions.<br/>
For function 3 and 4, you must execute the function 2 (inputting the score files) first to execute these functions<br/>
For the procedure of using each function, just follow the instruction shown in the terminal<br/>


Program name: Individual Target Archery Competition Score Management System<br/>
Problem setting:<br/>
The 34th session Archery Club, HKUSU needs a score calculation system for the 29th HKU Archery Open Contest. This system is used for generating an archer report for the total score obtained for each archer. The information file be prepared beforehand, the template of score files can be automatically generated by the program and the files containing the score of each archer are inputted during the contest.<br/>
The program should perform the following functions:
1.	Read the information file into the program (TargetAssignment.csv) 
2.	Display invalid input message if the format of the inputted field does not match the predefined format.
3.	Generate the template files of the score of each archer <Target Number>.csv. 
4.	Read the files containing score of each archer automatically (<Target Number>.csv) according to the information specified in the information file (TargetAssignment.csv)
5.	Give a rank to the archer according to their division 
6.	Generate an Archer result file (ArcherResult.csv)
7.	Edit <Target Number>.csv if any archers find wrong data entry
8.	Disqualified an archer if that archer is disqualified.
If the information file does not involve any invalid input (such as if it is a field preferred integer, it is inputted with an English letter), the program will indicate the file that contain any invalid input in the specific rows and columns.
Input files: TargetAssignment.csv and all <Target Number>.csv (it is named according to the target number available in the target assignment file)
Output file: ArcherResult.csv
For the specification of field of the csv files, see the description below.

 
Function description:
1.	Read the information file into the program (TargetAssignment.csv) <br/>
Description:<br/>
•	The user input the filename of the information file. The program will receive input the csv file <br/>
•	It will unpack the lines of string into a dynamic array.<br/>
o	Function 2 below will be called to check if the data inputted is in the correct format.<br/>
o	If there are incorrect input, a message will be displayed to request the user to correct the displayed information.<br/>
•	If all the inputs are valid, a successful input message will be displayed.<br/>

2.	Display invalid input message if the format of the inputted field does not match the predefined format.<br/>
Description:<br/>
•	This function receives a single line of input to check if all fields are valid.<br/>
•	If the format of a/some field(s) does not match, the function will return which rows and columns of record has incorrect inputs.<br/>

3.	Generate the template files of the score of each archer <Target Number>.csv. (optional)<br/>
Description:<br/>
•	After performing function 1, this function will be available to be used.<br/>
•	This function generates the template of <TargetNumber>.csv files according to the TargetAssignment.file inputted and file specification below<br/>
•	An error will be outputted if the files cannot be generated<br/>

4.	Read the files containing score of each archer automatically (<Target Number>.csv) according to the information specified in the information file (TargetAssignment.csv)<br/>
Description:<br/>
•	This function read all <TargetNumber>.csv files according to the inputted TargetAssignment.csv file<br/>
•	It will calculate the sum of the score of each distance and total score of each archer and count the number of ’10’ and ‘X’ of each archer.<br/>
•	The result will be stored to the dynamic array generated in function 1<br/>

5.	Give a rank to the archer according to their division in the contest<br/>
Description:<br/>
•	A rank is given to the archer according to the criteria above and then the result will be stored to the dynamic array generated in function 1<br/>

6.	Generate an Archer result file (ArcherResult.csv)<br/>
Description:<br/>
•	A filename is read to generate the archer result file according to the dynamic array generated in function 1. <br/>
•	If the file cannot be generated, an error message will be displayed.<br/>

7.	Edit or delete <Target Number>.csv if any archers find wrong data entry<br/>
Description:<br/>
•	Target number is inputted by the user.<br/>
•	If the inputted target number does not exists, a error message will be displayed to request another input. <br/>
•	If the inputted target number exists, the content of that <Target Number>.csv file will be read and displayed.<br/>
o	User can specify which rows and columns to be edited.<br/>
•	That <TargetNumber>.csv file and the dynamic array generated in function 1 will be updated<br/>

8.	Delete records if any disqualification is recorded<br/>
Description:<br/>
•	The target number required to be inputted <br/>
•	A new target assignment file is generated with division marked as DQ<br/>
•	A new archer result file is generated with all the column marked as DQ. <br/>
•	The dynamic array generated in function 1 will be updated<br/>
•	This function will be implemented together with function 7 as a single function

Extra Function:<br/>
Command line interface function is also developed so as to make the program more user friendly<br/>
This allows users select a particular function to be used.<br/>
For details, please read the comments inside CLI.cpp
 
Code Requirement:<br/>
Dynamic Memory Management:<br/>
Dynamic array is used to store the information of each archer specified below. Since the number of participants of each contest is different from year to year, the exact size of array is not specified. Dynamic array is therefore used to save memory space.
<br/>
File input/output:<br/>
A target assignment file and the score files of each archer must be inputted to generate a competition report and then output the report in .csv format.<br/>
<br/>
Data manipulation:<br/>
After inputting the data, they are processed to generate a competition report, includes sorting and adding records. Moreover, functions of searching, editing and adding a specific record will be included.<br/>
<br/>
Program codes in multiple files:<br/>
Main functions will be developed in separated c++ files and then linked by a header file. The main functions are inputting target assignment and scores of archers, process the inputted data, outputting the processed data into a competition report and editing the inputted records. <br/>
<br/>	
<br/>
 
Field specification of the information file (File name: TargetAssignment.csv):<br/>
<br/>
Target Number, 	Name,	HKAA Archer number,	HKAA Affiliated Organization,	Coach Name,	Division<br/>
<br/>
Notes: HKAA= Hong Kong Archery Association<br/>
<br/>
Target Number (It is used to indicate which target the archers are shooting during the competition)<br/>
•	It would be the Key Field for this database<br/>
•	It is unique, and every archer have it.<br/>
•	Format:  A number followed by a capital letter from A-F.<br/>
o	Example: 1A, 20F<br/>
<br/>
Name<br/>
•	It is in English<br/>
o	We would consider if Chinese name can be included when we are developing the project<br/>
•	Format: English letters and the first letter of each words in their name should be capital.<br/>
o	Example: Chan Tai Ming<br/>
<br/>
Archer number<br/>
•	If the archers are not yet registered for the membership of HKAA, then they would have a archer number, but the non-registered archer would be indicated as “Temporary Registered”<br/>
•	Format: string: M+4 numbers+S or “Temporary Registered”<br/>
o	Example: M6485S, Temporary Registered<br/>
<br/>
HKAA Affiliated Organization<br/>
•	Every archers should belong to an affiliated organization with HKAA in order to participate in our competition<br/>
•	Format: English letters<br/>
o	Example: HKU, PolyU<br/>
<br/>
Coach Name<br/>
•	Not every archers have a coach. If not, NA will be typed<br/>
•	Format: English letters and the first letter of each words in their name should be capital.<br/>
o	Example: Chan Tai Ming, NA<br/>
<br/>
Division<br/>
•	The naming of each division must follow these abbreviation<br/>
•	ALL the divisions are assumed to exist
Full Name 	Alias<br/>
Recurve Beginner Men 	RBM<br/>
Recurve Beginner Women 	RBW<br/>
Recurve Elementary Men 	REM<br/>
Recurve Elementary Women 	REW<br/>
Recurve Intermediate Men 	RIM<br/>
Recurve Intermediate Women 	RIW<br/>
Recurve Advanced Men 	RAM<br/>
Recurve Advanced Women 	RAW<br/>
•	Format: All capital letters and follow the abbreviation list.<br/>
Notes: In real scenario, this file will always be correct as it will be checked by the Hong Kong Archery Association<br/>
       It is in default arranged in ascending order according to the target number field<br/>
<br/>
<br/>
<br/>
Field Specification for the Scores of archers (File Name: <Target Number>.csv)<br/>
Notes: The filename is written according to the target number specified in the TargetAssignment.csv file<br/>
<br/>
The competition is divided into two rounds and then subdivided into six rounds shooting six arrows each.<br/>
This template can be automatically generated with different Target number and name according to the Information file<br/>
It is always assumed that in each distance, 6 columns and 6 rows of score must exist<br/>
<br/>
1st row:<br/>
Target Number,	Name,	//empty,	//empty,	//empty,	//empty<br/>
Target Number + Name<br/>
•	It should follow the specification mentioned in the information file.<br/>
  <br/>
2nd row (Pure Text):<br/>
“First Distance”,	//empty,	//empty,	//empty,	//empty,	//empty<br/>
First Distance<br/>
•	The first round of shooting<br/>
•	It is a pure text” First Distance” to allow the score keepers to enter the score correct<br/>
•	This line would NOT be inputted<br/>
  <br/>
3rd to 8th row:<br/>
Score,	Score,	Score,	Score,	Score,	Score<br/>
Score<br/>
•	Format: Number ranged from (1-10), character “M” or ”m” and character “X” or “x”<br/>
o	Notes: M= missed | X=hitting the bull eye<br/>
  <br/>
9th row(Pure Text)<br/>
“Second Distance”	//empty	//empty	//empty	//empty	//empty<br/>
Second Distance<br/>
•	The second round of shooting<br/>
•	It is a pure text ” Second Distance” to allow the score keepers to enter the score correct<br/>
•	This line would NOT be inputted<br/>
  <br/>
10th to 15th row<br/>
Score,	Score,	Score,	Score,	Score,	Score<br/>
Score<br/>
•	Format: Number ranged from (1-10), character “M” or ”m” and character “X” or “x”<br/>
o	Notes: M= missed | X=hitting the bull eye<br/>
 <br/>
  <br/>
  <br/>
Field Specification of Archers Result (ArcherResult.csv)<br/>
The result will be divided according to divisions. In this case, we would generate 8 of these files separately.<br/>
The result is sorted according to the ranking of the archer. The one with higher ranking should be placed on top.<br/>
1st Row:<br/>
Division,	//empty,	//empty,	//empty,	//empty,	//empty<br/>
Division<br/>
•	Please refer to the specification of information file<br/>
  <br/>
2nd Row (Pure text):<br/>
“Target Number”,	“Name”,	“1st Distance Score”,	“2nd Distance Score”,	“Total Score”	“Number of ‘10+X’”,	“Number of ‘X’”	“Ranking”<br/>
<br/>
  <br/>
3rd rows and onwards<br/>
Target Number,	Name,	1st Distance Score,	2nd Distance Score,	Total Score	Number of ‘10+X’,	Number of ‘X’,	Ranking<br/>
<br/>
Target Number<br/>
•	Please refer to the specification of information file<br/>
Name<br/>
•	Please refer to the specification of information file<br/>
1st Distance Score<br/>
•	This should be the sum of the score in the 1st round of shooting according to the archer scoring<br/>
•	If the archer is disqualified, empty space (“”) is outputted<br/>
•	Format: Positive integers, empty space (“”)<br/>
2nd Distance Score<br/>
•	This should be the sum of the score in the 2nd round of shooting according to the archer scoring<br/>
•	If the archer is disqualified, empty space (“”) is outputted<br/>
•	Format: Positive integers, empty space (“”)<br/>
Total Score<br/>
•	This should be the sum of scores of 1st distance and 2nd distance <br/>
•	If the archer is disqualified, “DQ” is outputted<br/>
•	Format: Positive integers, the text “DQ”<br/>
Number of ‘10+X’<br/>
•	This should display the number of arrows that score X (the bull eye) and ‘10’<br/>
•	If the archer is disqualified, empty space (“”) is outputted<br/>
•	Format: Positive integers, empty space (“”)<br/>
Number of ‘X’<br/>
•	This should display the number of arrows that score X (the bull eye)<br/>
•	If the archer is disqualified, empty space (“”) is outputted<br/>
•	Format: Positive integers, empty space (“”)<br/>
Ranking<br/>
•	The archers will be ranked according to their total scores<br/>
•	The disqualified archers will not be ranked<br/>
•	It is ranked according to these rules<br/>
o	1st: ranked according to their total score<br/>
o	2nd: ranked according to their numbers of 10(including ‘X’)<br/>
o	3rd: ranked according to their numbers of ‘X’<br/>
o	4th: if still ties, then they both have the same ranking<br/>
•	If the archer is disqualified, “DQ” is outputted<br/>
•	Format: Positive integers, “DQ”<br/>
